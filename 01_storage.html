<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Web Storage ìƒì„¸ ì‹¤ìŠµ (localStorage & sessionStorage)</title>
    <style>
        body { font-family: sans-serif; line-height: 1.8; padding: 25px; }
        .container { max-width: 800px; margin: auto; border: 1px solid lightgray; padding: 20px; border-radius: 10px; }
        h1, h2 { border-bottom: 2px solid cornflowerblue; padding-bottom: 10px; }
        .controls { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
        .storage-box { padding: 15px; border: 1px solid #ccc; border-radius: 8px; }
        input[type="text"] { width: calc(100% - 16px); padding: 8px; margin-bottom: 10px; }
        button { padding: 10px; margin: 2px; cursor: pointer; border-radius: 5px; border: 1px solid gray; }
        .result-box { margin-top: 20px; padding: 15px; background-color: lightyellow; border: 1px solid orange; border-radius: 5px; }
    </style>
</head>
<body>

    <div class="container">
        <h1>Web Storage ìƒì„¸ ì‹¤ìŠµ</h1>
        <div class="controls">
            <div class="storage-box">
                <h2>localStorage</h2>
                <input type="text" id="local-key" placeholder="Key ì…ë ¥">
                <input type="text" id="local-value" placeholder="Value ì…ë ¥">
                <button id="local-set">ì €ì¥ (setItem)</button>
                <button id="local-get">ì½ê¸° (getItem)</button>
                <button id="local-remove">ì‚­ì œ (removeItem)</button>
                <button id="local-clear">ì „ì²´ ì‚­ì œ (clear)</button>
            </div>
            <div class="storage-box">
                <h2>sessionStorage</h2>
                <input type="text" id="session-key" placeholder="Key ì…ë ¥">
                <input type="text" id="session-value" placeholder="Value ì…ë ¥">
                <button id="session-set">ì €ì¥ (setItem)</button>
                <button id="session-get">ì½ê¸° (getItem)</button>
                <button id="session-remove">ì‚­ì œ (removeItem)</button>
                <button id="session-clear">ì „ì²´ ì‚­ì œ (clear)</button>
            </div>
        </div>
        <div class="result-box">
            <h3>ê²°ê³¼</h3>
            <p id="result">ë™ì‘ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</p>
        </div>
    </div>

    <script>
    /*
    ==================================================================================
    ## 1. ê°œë… ì„¤ëª…: Web Storageë€?
    ==================================================================================
    Web StorageëŠ” ì›¹ ë¸Œë¼ìš°ì €ê°€ ì„œë²„ê°€ ì•„ë‹Œ **í´ë¼ì´ì–¸íŠ¸(ì‚¬ìš©ì ì»´í“¨í„°) ì¸¡ì— ë°ì´í„°ë¥¼ ì €ì¥**í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤.
    ê³¼ê±°ì— ì‚¬ìš©ë˜ë˜ 'ì¿ í‚¤(Cookie)'ì˜ ë‹¨ì ì„ ë³´ì™„í•˜ë©° ë“±ì¥í–ˆìœ¼ë©°, ë” ë§ì€ ì–‘ì˜ ë°ì´í„°ë¥¼ ì•ˆì „í•˜ê³  ì‰½ê²Œ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    âœ… **ì£¼ìš” íŠ¹ì§•**:
    - **Key-Value ì €ì¥**: ëª¨ë“  ë°ì´í„°ëŠ” 'í‚¤(Key)'ì™€ 'ê°’(Value)'ì˜ ìŒìœ¼ë¡œ ì €ì¥ë©ë‹ˆë‹¤.
    - **ë¬¸ìì—´ ë°ì´í„°ë§Œ ì €ì¥**: ê°’(Value)ì€ ë°˜ë“œì‹œ ë¬¸ìì—´(String) í˜•íƒœë¡œ ì €ì¥ë©ë‹ˆë‹¤. (ê°ì²´ë‚˜ ë°°ì—´ì„ ì €ì¥í•˜ë ¤ë©´ JSON.stringify()ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.)
    - **ì„œë²„ ì „ì†¡ ì—†ìŒ**: ì¿ í‚¤ì™€ ë‹¬ë¦¬, Web Storageì˜ ë°ì´í„°ëŠ” HTTP ìš”ì²­ ì‹œë§ˆë‹¤ ì„œë²„ë¡œ ìë™ ì „ì†¡ë˜ì§€ ì•Šì•„ ì„±ëŠ¥ì— ì´ì ì„ ê°€ì§‘ë‹ˆë‹¤.
    - **ë™ì¼ ì¶œì²˜ ì •ì±…(Same-Origin Policy)**: ë°ì´í„°ëŠ” í”„ë¡œí† ì½œ, í˜¸ìŠ¤íŠ¸, í¬íŠ¸ê°€ ëª¨ë‘ ë™ì¼í•œ 'ì¶œì²˜(Origin)' ë‚´ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥í•˜ì—¬ ë³´ì•ˆì„±ì´ ë†’ìŠµë‹ˆë‹¤.
    (ì˜ˆ: https://www.google.com ì—ì„œ ì €ì¥í•œ ë°ì´í„°ëŠ” https://www.naver.com ì—ì„œ ì ‘ê·¼ ë¶ˆê°€)
    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    ğŸ’¡ **localStorage vs. sessionStorage: ê²°ì •ì  ì°¨ì´ì **
    Web StorageëŠ” ë‘ ê°€ì§€ ì¢…ë¥˜ì˜ ì €ì¥ì†Œë¥¼ ì œê³µí•˜ë©°, ê°€ì¥ í° ì°¨ì´ëŠ” **ë°ì´í„°ì˜ ìƒëª…ì£¼ê¸°(Life Cycle)**ì…ë‹ˆë‹¤.
    1.  **localStorage (ì˜êµ¬ì  ë°ì´í„° ì €ì¥ì†Œ)**
        - **ìƒëª…ì£¼ê¸°**: ì‚¬ìš©ìê°€ ì§ì ‘ ë°ì´í„°ë¥¼ ì‚­ì œí•˜ì§€ ì•ŠëŠ” í•œ, **ë¸Œë¼ìš°ì €ë¥¼ ê»ë‹¤ ì¼œë„ ë°ì´í„°ê°€ ì‚¬ë¼ì§€ì§€ ì•Šê³  ì˜êµ¬ì ìœ¼ë¡œ ìœ ì§€**ë©ë‹ˆë‹¤.
        - **ê³µìœ  ë²”ìœ„**: ë™ì¼í•œ ì¶œì²˜ì˜ **ëª¨ë“  íƒ­ê³¼ ì°½ì—ì„œ ë°ì´í„°ê°€ ê³µìœ **ë©ë‹ˆë‹¤.
        (ì˜ˆ: 1ë²ˆ íƒ­ì—ì„œ localStorageì— ì €ì¥í•œ ë°ì´í„°ëŠ” 2ë²ˆ íƒ­ì—ì„œë„ ì½ê³  ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.)
        - **ì£¼ìš” ìš©ë„**: ìë™ ë¡œê·¸ì¸ ì •ë³´, ì‚¬ìš©ìê°€ ì„¤ì •í•œ UI í…Œë§ˆ(ë‹¤í¬ ëª¨ë“œ ë“±), ì¥ë°”êµ¬ë‹ˆ ì •ë³´ ë“± ì§€ì†ì ìœ¼ë¡œ ìœ ì§€ë˜ì–´ì•¼ í•˜ëŠ” ë°ì´í„°ì— ì í•©í•©ë‹ˆë‹¤.
    2.  **sessionStorage (ì¼ì‹œì  ë°ì´í„° ì €ì¥ì†Œ)**
        - **ìƒëª…ì£¼ê¸°**: **ë¸Œë¼ìš°ì € íƒ­(ë˜ëŠ” ì°½)ì´ ì—´ë ¤ ìˆëŠ” ë™ì•ˆë§Œ ë°ì´í„°ê°€ ìœ ì§€**ë©ë‹ˆë‹¤. íƒ­ì„ ë‹«ëŠ” ìˆœê°„ ë°ì´í„°ëŠ” ì¦‰ì‹œ ì‚­ì œë©ë‹ˆë‹¤.
        - **ê³µìœ  ë²”ìœ„**: ë°ì´í„°ê°€ **ê° íƒ­ë³„ë¡œ ê²©ë¦¬**ë©ë‹ˆë‹¤. ê°™ì€ ì‚¬ì´íŠ¸ë¼ë„ ë‹¤ë¥¸ íƒ­ì—ì„œëŠ” ë°ì´í„°ë¥¼ ê³µìœ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
        (ì˜ˆ: 1ë²ˆ íƒ­ì—ì„œ sessionStorageì— ì €ì¥í•œ ë°ì´í„°ëŠ” 2ë²ˆ íƒ­ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.)
        - **ì£¼ìš” ìš©ë„**: ì¼íšŒì„± ë¡œê·¸ì¸ ì •ë³´, ì ì‹œ ë™ì•ˆë§Œ ìœ ì§€ë˜ì–´ì•¼ í•˜ëŠ” ì…ë ¥ í¼ ë°ì´í„°, íƒ­ë§ˆë‹¤ ë‹¤ë¥´ê²Œ ê´€ë¦¬ë˜ì–´ì•¼ í•  ìƒíƒœ ì •ë³´ ë“±ì— ì í•©í•©ë‹ˆë‹¤.
    */

    /*
    ==================================================================================
    ## 2. ì£¼ìš” ê¸°ëŠ¥ (API ë©”ì„œë“œ) ì„¤ëª…
    ==================================================================================
    localStorageì™€ sessionStorageëŠ” ì•„ë˜ì˜ 4ê°€ì§€ ê³µí†µ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ì¡°ì‘í•©ë‹ˆë‹¤.
    ì‚¬ìš©ë²•ì€ ì™„ì „íˆ ë™ì¼í•˜ë©°, `localStorage`ë¥¼ `sessionStorage`ë¡œ ë°”ê¾¸ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤.
    1.  **setItem(key, value)**
        - **ì„¤ëª…**: ì§€ì •ëœ 'key'ì— 'value'ë¥¼ ì €ì¥í•©ë‹ˆë‹¤. ë§Œì•½ ë™ì¼í•œ 'key'ê°€ ì´ë¯¸ ì¡´ì¬í•œë‹¤ë©´, ê¸°ì¡´ ê°’ì„ ìƒˆë¡œìš´ 'value'ë¡œ ë®ì–´ì”ë‹ˆë‹¤.
        - **ì˜ˆì‹œ**: `localStorage.setItem('username', 'Alice');`
    2.  **getItem(key)**
        - **ì„¤ëª…**: ì§€ì •ëœ 'key'ì— í•´ë‹¹í•˜ëŠ” 'value'ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ë§Œì•½ 'key'ê°€ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ `null`ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
        - **ì˜ˆì‹œ**: `const username = localStorage.getItem('username'); // "Alice"`
    3.  **removeItem(key)**
        - **ì„¤ëª…**: ì§€ì •ëœ 'key'ì™€ ê·¸ì— í•´ë‹¹í•˜ëŠ” 'value'ë¥¼ ì €ì¥ì†Œì—ì„œ ì‚­ì œí•©ë‹ˆë‹¤.
        - **ì˜ˆì‹œ**: `localStorage.removeItem('username');`
    4.  **clear()**
        - **ì„¤ëª…**: í•´ë‹¹ ì €ì¥ì†Œ(localStorage ë˜ëŠ” sessionStorage)ì˜ **ëª¨ë“  key-value ë°ì´í„°ë¥¼ í•œë²ˆì— ì‚­ì œ**í•©ë‹ˆë‹¤.
        - **ì˜ˆì‹œ**: `localStorage.clear();`
    âœ¨ **Tip**: ë©”ì„œë“œ ëŒ€ì‹  ê°ì²´ì˜ í”„ë¡œí¼í‹°ì²˜ëŸ¼ ì§ì ‘ ì ‘ê·¼í•˜ì—¬ ê°’ì„ ì„¤ì •í•˜ê±°ë‚˜ ì½ì„ ìˆ˜ë„ ìˆì§€ë§Œ,
    API ë©”ì„œë“œ(setItem, getItem ë“±)ì™€ ì¶©ëŒí•  ìˆ˜ ìˆëŠ” 'length', 'clear' ê°™ì€ í‚¤ ì´ë¦„ ì‚¬ìš©ì— ì œì•½ì´ ìˆìœ¼ë¯€ë¡œ,
    ê°€ê¸‰ì ì´ë©´ ìœ„ì— ëª…ì‹œëœ ê³µì‹ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•ˆì „í•˜ê³  ê¶Œì¥ë©ë‹ˆë‹¤.
    - (ë¹„ê¶Œì¥) `localStorage.username = 'Bob';`
    - (ë¹„ê¶Œì¥) `const user = localStorage.username;`
    */

    /*
    ==================================================================================
    ## 3. ì‹¤ì œ ì‹¤ìŠµ (Interactive Example)
    ==================================================================================
    */

    // --- 1. ì‹¤ìŠµì— í•„ìš”í•œ HTML ìš”ì†Œë“¤ì„ ë¯¸ë¦¬ ì°¾ì•„ ë³€ìˆ˜ì— í• ë‹¹í•©ë‹ˆë‹¤. ---

    // ê²°ê³¼ í‘œì‹œ ì˜ì—­
    const resultDiv = document.getElementById('result');

    // localStorage ê´€ë ¨ ìš”ì†Œ
    const localKeyInput = document.getElementById('local-key');
    const localValueInput = document.getElementById('local-value');
    const localSetBtn = document.getElementById('local-set');
    const localGetBtn = document.getElementById('local-get');
    const localRemoveBtn = document.getElementById('local-remove');
    const localClearBtn = document.getElementById('local-clear');

    // sessionStorage ê´€ë ¨ ìš”ì†Œ
    const sessionKeyInput = document.getElementById('session-key');
    const sessionValueInput = document.getElementById('session-value');
    const sessionSetBtn = document.getElementById('session-set');
    const sessionGetBtn = document.getElementById('session-get');
    const sessionRemoveBtn = document.getElementById('session-remove');
    const sessionClearBtn = document.getElementById('session-clear');


    // --- 2. ê° ë²„íŠ¼ì— í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ì—°ê²°í•˜ì—¬ ê¸°ëŠ¥ì„ êµ¬í˜„í•©ë‹ˆë‹¤. ---

    // [localStorage] ì €ì¥ ë²„íŠ¼
    localSetBtn.addEventListener('click', () => {
        const key = localKeyInput.value;
        const value = localValueInput.value;
        if (!key || !value) {
            // !key -> true / !value -> true
            resultDiv.textContent = "localStorage: Keyì™€ Valueë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.";
            return;
        }
        localStorage.setItem(key, value); // keyë¼ëŠ” ìœ„ì¹˜ì— value ê°’ì„ ë„£ê² ë‹¤
        resultDiv.textContent = `localStorageì— Key: '${key}', Value: '${value}' (ì´)ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.`;
    });

    // [localStorage] ì½ê¸° ë²„íŠ¼
    localGetBtn.addEventListener('click', () => {
        const key = localKeyInput.value;
        if (!key) {
            resultDiv.textContent = "localStorage: ì¡°íšŒí•  Keyë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.";
            return;
        }
        const value = localStorage.getItem(key);
        resultDiv.textContent = value ? `localStorageì—ì„œ ì½ì€ '${key}'ì˜ ê°’: ${value}` : `localStorageì— '${key}' í‚¤ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.`;
    });

    // [localStorage] ì‚­ì œ ë²„íŠ¼
    localRemoveBtn.addEventListener('click', () => {
        const key = localKeyInput.value;
        if (!key) {
            resultDiv.textContent = "localStorage: ì‚­ì œí•  Keyë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.";
            return;
        }
        localStorage.removeItem(key);
        resultDiv.textContent = `localStorageì—ì„œ '${key}' í•­ëª©ì„ ì‚­ì œí–ˆìŠµë‹ˆë‹¤.`;
    });

    // [localStorage] ì „ì²´ ì‚­ì œ ë²„íŠ¼
    localClearBtn.addEventListener('click', () => {
        localStorage.clear();
        resultDiv.textContent = "localStorageì˜ ëª¨ë“  ë°ì´í„°ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.";
    });


    // [sessionStorage] ì €ì¥ ë²„íŠ¼
    sessionSetBtn.addEventListener('click', () => {
        const key = sessionKeyInput.value;
        const value = sessionValueInput.value;
        if (!key || !value) {
            resultDiv.textContent = "sessionStorage: Keyì™€ Valueë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.";
            return;
        }
        sessionStorage.setItem(key, value);
        resultDiv.textContent = `sessionStorageì— Key: '${key}', Value: '${value}' (ì´)ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤. (íƒ­ì„ ë‹«ìœ¼ë©´ ì‚¬ë¼ì§‘ë‹ˆë‹¤.)`;
    });

    // [sessionStorage] ì½ê¸° ë²„íŠ¼
    sessionGetBtn.addEventListener('click', () => {
        const key = sessionKeyInput.value;
        if (!key) {
            resultDiv.textContent = "sessionStorage: ì¡°íšŒí•  Keyë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.";
            return;
        }
        const value = sessionStorage.getItem(key);
        resultDiv.textContent = value ? `sessionStorageì—ì„œ ì½ì€ '${key}'ì˜ ê°’: ${value}` : `sessionStorageì— '${key}' í‚¤ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.`;
    });

    // [sessionStorage] ì‚­ì œ ë²„íŠ¼
    sessionRemoveBtn.addEventListener('click', () => {
        const key = sessionKeyInput.value;
        if (!key) {
            resultDiv.textContent = "sessionStorage: ì‚­ì œí•  Keyë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.";
            return;
        }
        sessionStorage.removeItem(key);
        resultDiv.textContent = `sessionStorageì—ì„œ '${key}' í•­ëª©ì„ ì‚­ì œí–ˆìŠµë‹ˆë‹¤.`;
    });

    // [sessionStorage] ì „ì²´ ì‚­ì œ ë²„íŠ¼
    sessionClearBtn.addEventListener('click', () => {
        sessionStorage.clear();
        resultDiv.textContent = "sessionStorageì˜ ëª¨ë“  ë°ì´í„°ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.";
    });
    </script>
</body>
</html>